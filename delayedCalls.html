<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staggers</title>
    <link rel="stylesheet" href="main.css">
</head>

<body style="background-color: darkgrey">
    <div id="myElement" style="width: 100px; height: 100px; background: red;"></div>
    <button id="play">Play</button>
    <button id="rewind">Rewind</button>
    <button id="skipToHalf" style="margin-bottom: 10px;">Skip to Half</button>
    <div id="myElement2"></div>
    <p id="myElement3" style="margin-left: 50vw; font-size: larger">Ë…</p>
    <div id="myyElement" style="width: 100px; margin-top: 800px; height: 100px; background: blue;"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script>
        const element = document.getElementById('myElement');

        const tl = gsap.timeline({ paused: true });

        tl.to(element, { x: 300, duration: 1 })
            .to(element, { y: 200, duration: 1 })
            .to(element, { rotation: 360, duration: 1 });

        document.getElementById('play').addEventListener('click', () => {
            tl.play();
        });

        document.getElementById('rewind').addEventListener('click', () => {
            tl.seek(0); // Rewind to the beginning
            tl.play();
        });

        document.getElementById('skipToHalf').addEventListener('click', () => {
            tl.seek(1.5); // Jump to 1.5 seconds in the timeline
        });

        const ele = document.getElementById('myElement2');

        gsap.delayedCall(2, () => {
            gsap.to(element, {backgroundColor: 'green'});
            ele.innerHTML = 'Lets scroll down to see magic';
            gsap.to("#myElement3" , {y: 400, duration: 0.4, repeat: -1});

        });
        

        // Create an Intersection Observer
        const elementt = document.getElementById('myyElement')
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Animate when the element comes into view
                    gsap.to(elementt, { opacity: 1, x: 300, duration: 5 });
                    observer.unobserve(elementt); // Stop observing after the animation
                }
            });
        });

        // Start observing the element
        observer.observe(elementt);
    </script>

</body>

</html>